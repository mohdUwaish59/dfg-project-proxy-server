(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=t(482),a=t(9108),i=t(2563),l=t.n(i),n=t(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9481)),"C:\\Users\\Mohd Uwaish\\Desktop\\MS\\DFG\\project\\proxy-working\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7948)),"C:\\Users\\Mohd Uwaish\\Desktop\\MS\\DFG\\project\\proxy-working\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Mohd Uwaish\\Desktop\\MS\\DFG\\project\\proxy-working\\app\\admin\\page.tsx"],m="/admin/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2854:(e,r,t)=>{Promise.resolve().then(t.bind(t,4911))},6441:(e,r,t)=>{Promise.resolve().then(t.bind(t,7988))},2574:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},4911:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ec});var s=t(5344),a=t(3729),i=t(6212),l=t(1626);function n({className:e,...r}){return s.jsx("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",e),...r})}var o=t(1526),c=t(7075);let d=(0,c.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=t(1351);let u=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));u.displayName="Input";var x=t(2409),p=a.forwardRef((e,r)=>(0,s.jsx)(x.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));p.displayName="Label";let h=(0,t(9247).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=a.forwardRef(({className:e,...r},t)=>s.jsx(p,{ref:t,className:(0,l.cn)(h(),e),...r}));f.displayName=p.displayName;var g=t(5062);let y=(0,c.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),v=(0,c.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),j=(0,c.Z)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var b=t(6389);function w({onLoginSuccess:e}){let[r,t]=(0,a.useState)({username:"",password:""}),[l,n]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),d=async t=>{t.preventDefault(),n(!0),c("");try{let t=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(t.ok)e();else{let e=await t.json();c(e.error||"Login failed")}}catch(e){c("Network error. Please try again.")}finally{n(!1)}};return s.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:(0,s.jsxs)(m.Zb,{className:"w-full max-w-md shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[(0,s.jsxs)(m.Ol,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-primary-600 to-accent-600",children:s.jsx(y,{className:"h-8 w-8 text-white"})}),s.jsx(m.ll,{className:"text-2xl font-bold text-gray-900",children:"Admin Access"}),s.jsx(m.SZ,{className:"text-gray-600",children:"Sign in to your admin account to manage experiment links"})]}),s.jsx(m.aY,{children:(0,s.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(f,{htmlFor:"username",className:"flex items-center gap-2",children:[s.jsx(v,{className:"h-4 w-4"}),"Username"]}),s.jsx(u,{id:"username",type:"text",placeholder:"Enter your username",value:r.username,onChange:e=>t({...r,username:e.target.value}),required:!0,disabled:l})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(f,{htmlFor:"password",className:"flex items-center gap-2",children:[s.jsx(j,{className:"h-4 w-4"}),"Password"]}),s.jsx(u,{id:"password",type:"password",placeholder:"Enter your password",value:r.password,onChange:e=>t({...r,password:e.target.value}),required:!0,disabled:l})]}),o&&s.jsx(g.bZ,{variant:"destructive",children:s.jsx(g.X,{children:o})}),s.jsx(i.z,{type:"submit",className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800",disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[s.jsx(b.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}var N=t(9895),k=t(2594),C=t(5366),M=t(6262);let P=[{key:"total",label:"Total Groups",icon:N.Z,description:"All experiment groups"},{key:"active",label:"Active Groups",icon:k.Z,description:"Currently accepting participants"},{key:"participants",label:"Total Participants",icon:C.Z,description:"Across all experiments"},{key:"full",label:"Completed Groups",icon:M.Z,description:"Reached capacity"}];function S({stats:e}){return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:P.map((r,t)=>(0,s.jsxs)(m.Zb,{className:"transition-all hover:shadow-lg border-0 shadow-md bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(m.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(m.ll,{className:"text-sm font-medium text-gray-600",children:r.label}),s.jsx("div",{className:`p-2 rounded-lg ${["bg-primary-50","bg-success-50","bg-accent-50","bg-warning-50"][t%4]}`,children:s.jsx(r.icon,{className:`h-4 w-4 ${["text-primary-600","text-success-600","text-accent-600","text-warning-600"][t%4]}`})})]}),(0,s.jsxs)(m.aY,{children:[s.jsx("div",{className:`text-2xl font-bold bg-gradient-to-r ${["from-primary-500 to-primary-600","from-success-500 to-success-600","from-accent-500 to-accent-600","from-warning-500 to-warning-600"][t%4]} bg-clip-text text-transparent`,children:e[r.key]}),s.jsx("p",{className:"text-xs text-gray-500",children:r.description})]})]},r.key))})}var Z=t(7988);let _=(0,c.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),T=(0,c.Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function R({onLinkCreated:e}){let[r,t]=(0,a.useState)({groupName:"",realUrl:""}),[l,n]=(0,a.useState)(!1),{showToast:o}=(0,Z.useToast)(),c=async s=>{s.preventDefault(),n(!0);try{let s=await fetch("/api/admin/create-link",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(s.ok)o("success","Success","Experiment link created successfully!"),t({groupName:"",realUrl:""}),e();else{let e=await s.json();o("error","Error",e.error||"Failed to create link")}}catch(e){o("error","Error","Network error. Please try again.")}finally{n(!1)}};return(0,s.jsxs)(m.Zb,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(m.Ol,{children:[(0,s.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-primary-100 to-accent-100",children:s.jsx(_,{className:"h-5 w-5 text-primary-600"})}),"Create New Experiment Link"]}),s.jsx(m.SZ,{className:"text-gray-600",children:"Generate a secure proxy link for your oTree experiment"})]}),s.jsx(m.aY,{children:(0,s.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(f,{htmlFor:"groupName",className:"flex items-center gap-2",children:[s.jsx(N.Z,{className:"h-4 w-4"}),"Group Name"]}),s.jsx(u,{id:"groupName",type:"text",placeholder:"e.g., Group-1",value:r.groupName,onChange:e=>t({...r,groupName:e.target.value}),required:!0,disabled:l})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(f,{htmlFor:"realUrl",className:"flex items-center gap-2",children:[s.jsx(T,{className:"h-4 w-4"}),"oTree Experiment URL"]}),s.jsx(u,{id:"realUrl",type:"url",placeholder:"https://your-otree-server.com/room/...",value:r.realUrl,onChange:e=>t({...r,realUrl:e.target.value}),required:!0,disabled:l})]})]}),s.jsx(i.z,{type:"submit",disabled:l,className:"w-full md:w-auto bg-gradient-to-r from-success-600 to-success-700 hover:from-success-700 hover:to-success-800",children:l?(0,s.jsxs)(s.Fragment,{children:[s.jsx(b.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(_,{className:"mr-2 h-4 w-4"}),"Create Link"]})})]})})]})}var E=t(9436),$="Progress",[z,D]=function(e,r=[]){let t=[],i=()=>{let r=t.map(e=>a.createContext(e));return function(t){let s=t?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return i.scopeName=e,[function(r,i){let l=a.createContext(i),n=t.length;t=[...t,i];let o=r=>{let{scope:t,children:i,...o}=r,c=t?.[e]?.[n]||l,d=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(c.Provider,{value:d,children:i})};return o.displayName=r+"Provider",[o,function(t,s){let o=s?.[e]?.[n]||l,c=a.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((r,{useScope:t,scopeName:s})=>{let a=t(e)[`__scope${s}`];return{...r,...a}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return t.scopeName=r.scopeName,t}(i,...r)]}($),[U,q]=z($),F=a.forwardRef((e,r)=>{var t,a;let{__scopeProgress:i,value:l=null,max:n,getValueLabel:o=O,...c}=e;(n||0===n)&&!H(n)&&console.error((t=`${n}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let d=H(n)?n:100;null===l||I(l,d)||console.error((a=`${l}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=I(l,d)?l:null,u=L(m)?o(m,d):void 0;return(0,s.jsx)(U,{scope:i,value:m,max:d,children:(0,s.jsx)(x.WV.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":L(m)?m:void 0,"aria-valuetext":u,role:"progressbar","data-state":V(m,d),"data-value":m??void 0,"data-max":d,...c,ref:r})})});F.displayName=$;var A="ProgressIndicator",G=a.forwardRef((e,r)=>{let{__scopeProgress:t,...a}=e,i=q(A,t);return(0,s.jsx)(x.WV.div,{"data-state":V(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:r})});function O(e,r){return`${Math.round(e/r*100)}%`}function V(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function L(e){return"number"==typeof e}function H(e){return L(e)&&!isNaN(e)&&e>0}function I(e,r){return L(e)&&!isNaN(e)&&e<=r&&e>=0}G.displayName=A;let Y=a.forwardRef(({className:e,value:r,...t},a)=>s.jsx(F,{ref:a,className:(0,l.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...t,children:s.jsx(G,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Y.displayName=F.displayName;let J=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...r})}));J.displayName="Table";let W=a.forwardRef(({className:e,...r},t)=>s.jsx("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",e),...r}));W.displayName="TableHeader";let X=a.forwardRef(({className:e,...r},t)=>s.jsx("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...r}));X.displayName="TableBody",a.forwardRef(({className:e,...r},t)=>s.jsx("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let B=a.forwardRef(({className:e,...r},t)=>s.jsx("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));B.displayName="TableRow";let K=a.forwardRef(({className:e,...r},t)=>s.jsx("th",{ref:t,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));K.displayName="TableHead";let Q=a.forwardRef(({className:e,...r},t)=>s.jsx("td",{ref:t,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));Q.displayName="TableCell",a.forwardRef(({className:e,...r},t)=>s.jsx("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption";let ee=(0,c.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var er=t(2768);let et=(0,c.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),es=(0,c.Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var ea=t(7320);let ei=(0,c.Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),el=(0,c.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function en({links:e,onLinkAction:r}){let{showToast:t}=(0,Z.useToast)(),a=async e=>{try{await navigator.clipboard.writeText(e),t("success","Copied!","Proxy link copied to clipboard")}catch(e){t("error","Error","Failed to copy link")}},l=async(e,s)=>{try{if((await fetch("/api/admin/toggle-link",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({proxyId:e,activate:!s})})).ok)t("success","Success",`Group ${s?"paused":"activated"} successfully!`),r();else throw Error("Failed to toggle link")}catch(e){t("error","Error","Failed to update group status")}},n=async e=>{if(confirm("Reset this group? This will allow 3 new participants to join."))try{if((await fetch("/api/admin/reset-usage",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({proxyId:e})})).ok)t("success","Success","Group usage reset successfully!"),r();else throw Error("Failed to reset usage")}catch(e){t("error","Error","Failed to reset group usage")}},o=async(e,s)=>{let a=`Are you sure you want to delete the experiment link for "${s}"?

This action cannot be undone and will permanently remove:
• The proxy link
• All usage data
• Participant records`;if(confirm(a))try{let a=await fetch("/api/admin/delete-link",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({proxyId:e})}),i=await a.json();if(i.success)t("success","Success",`Experiment link for "${s}" deleted successfully`),r();else throw Error(i.error||"Failed to delete link")}catch(e){t("error","Error","Failed to delete experiment link")}};return 0===e.length?s.jsx(m.Zb,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:(0,s.jsxs)(m.aY,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary-100 to-accent-100 p-4 mb-4",children:s.jsx(T,{className:"h-8 w-8 text-primary-600"})}),s.jsx(m.ll,{className:"mb-2 text-gray-900",children:"No experiment links yet"}),s.jsx(m.SZ,{className:"text-gray-600",children:"Create your first experiment link using the form above."})]})}):(0,s.jsxs)(m.Zb,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(m.Ol,{children:[(0,s.jsxs)(m.ll,{className:"flex items-center gap-2 text-gray-900",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-primary-100 to-accent-100",children:s.jsx(T,{className:"h-5 w-5 text-primary-600"})}),"Experiment Links"]}),s.jsx(m.SZ,{className:"text-gray-600",children:"Manage your experiment proxy links and monitor participant activity"})]}),s.jsx(m.aY,{children:s.jsx("div",{className:"rounded-md border",children:(0,s.jsxs)(J,{children:[s.jsx(W,{children:(0,s.jsxs)(B,{children:[s.jsx(K,{children:"Group"}),s.jsx(K,{children:"Proxy Link"}),s.jsx(K,{children:"Usage"}),s.jsx(K,{children:"Status"}),s.jsx(K,{children:"Created"}),s.jsx(K,{className:"text-right",children:"Actions"})]})}),s.jsx(X,{children:e.map(e=>{let r=e.current_uses/e.max_uses*100,t=e.current_uses>=e.max_uses,c=`${window.location.origin}/proxy/${e.proxy_id}`;return(0,s.jsxs)(B,{children:[s.jsx(Q,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.group_name||"Unnamed Group"})]})}),s.jsx(Q,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-mono",children:[s.jsx("span",{className:"truncate max-w-[200px]",title:c,children:c}),s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-6 w-6 p-0",children:s.jsx(ee,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(er.Z,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate max-w-[200px]",children:e.real_url})]})]})}),s.jsx(Q,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm font-medium",children:[e.current_uses,"/",e.max_uses]}),s.jsx(Y,{value:r,className:"h-2"})]})}),s.jsx(Q,{children:s.jsx(E.C,{variant:e.is_active?t?"destructive":"default":"secondary",children:e.is_active?t?"Completed":"Active":"Inactive"})}),s.jsx(Q,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(et,{className:"h-3 w-3"}),new Date(e.created_at).toLocaleDateString()]})}),s.jsx(Q,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-8 w-8 p-0",children:s.jsx(ee,{className:"h-3 w-3"})}),s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>l(e.proxy_id,e.is_active),className:"h-8 w-8 p-0",children:e.is_active?s.jsx(es,{className:"h-3 w-3"}):s.jsx(ea.Z,{className:"h-3 w-3"})}),s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>n(e.proxy_id),className:"h-8 w-8 p-0",children:s.jsx(ei,{className:"h-3 w-3"})}),s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>o(e.proxy_id,e.group_name||"Unnamed Group"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(el,{className:"h-3 w-3"})})]})})]},e.proxy_id)})})]})})})]})}function eo(){let[e,r]=(0,a.useState)([]),[t,i]=(0,a.useState)({total:0,active:0,participants:0,full:0}),[l,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let[e,t]=await Promise.all([fetch("/api/admin/links",{credentials:"include"}),fetch("/api/admin/stats",{credentials:"include"})]);if(e.ok&&t.ok){let s=await e.json(),a=await t.json();r(s),i(a)}}catch(e){console.error("Error loading data:",e)}finally{o(!1)}};return l?(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Array.from({length:4}).map((e,r)=>s.jsx(n,{className:"h-24 w-full"},r))}),s.jsx(n,{className:"h-48 w-full"}),s.jsx(n,{className:"h-64 w-full"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(S,{stats:t}),s.jsx(R,{onLinkCreated:()=>{c()}}),s.jsx(en,{links:e,onLinkAction:()=>{c()}})]})}function ec(){let[e,r]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/admin/check-auth",{credentials:"include"}),t=await e.json();r(t.isLoggedIn)}catch(e){console.error("Error checking auth status:",e),r(!1)}finally{l(!1)}},m=async()=>{try{await fetch("/api/admin/logout",{method:"POST",credentials:"include"}),r(!1)}catch(e){console.error("Error logging out:",e)}};return t?s.jsx("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(n,{className:"h-8 w-8 rounded"}),s.jsx(n,{className:"h-8 w-48"})]}),s.jsx(n,{className:"h-10 w-24"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Array.from({length:4}).map((e,r)=>s.jsx(n,{className:"h-24 w-full"},r))}),s.jsx(n,{className:"h-64 w-full"})]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-background to-accent-50",children:[s.jsx("div",{className:"border-b bg-white/80 backdrop-blur-sm shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-r from-primary-600 to-accent-600 text-white",children:s.jsx(o.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"oTree Proxy Manager"}),s.jsx("p",{className:"text-sm text-primary-600/70",children:"Professional Link Management System"})]})]}),e&&(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:m,className:"gap-2 border-primary-200 text-primary-700 hover:bg-primary-50",children:[s.jsx(d,{className:"h-4 w-4"}),"Sign Out"]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:e?s.jsx(eo,{}):s.jsx(w,{onLoginSuccess:()=>{r(!0)}})})]})}},5062:(e,r,t)=>{"use strict";t.d(r,{X:()=>c,bZ:()=>o});var s=t(5344),a=t(3729),i=t(9247),l=t(1626);let n=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef(({className:e,variant:r,...t},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,l.cn)(n({variant:r}),e),...t}));o.displayName="Alert",a.forwardRef(({className:e,...r},t)=>s.jsx("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...r}));c.displayName="AlertDescription"},9436:(e,r,t)=>{"use strict";t.d(r,{C:()=>n});var s=t(5344);t(3729);var a=t(9247),i=t(1626);let l=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...t}){return s.jsx("div",{className:(0,i.cn)(l({variant:r}),e),...t})}},6212:(e,r,t)=>{"use strict";t.d(r,{z:()=>c});var s=t(5344),a=t(3729),i=t(5877),l=t(9247),n=t(1626);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...l},c)=>{let d=a?i.g7:"button";return s.jsx(d,{className:(0,n.cn)(o({variant:r,size:t,className:e})),ref:c,...l})});c.displayName="Button"},1351:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>n,SZ:()=>c,Zb:()=>l,aY:()=>d,ll:()=>o});var s=t(5344),a=t(3729),i=t(1626);let l=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));l.displayName="Card";let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},7988:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ToastProvider:()=>h,useToast:()=>x});var s=t(5344),a=t(3729),i=t(3644),l=t(7916),n=t(6262),o=t(7970),c=t(5719),d=t(1991),m=t(4513);let u=(0,a.createContext)(void 0),x=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useToast must be used within a ToastProvider");return e},p={success:{icon:n.Z,bgColor:"bg-success-50 border-success-200",iconColor:"text-success-600",titleColor:"text-success-800",descColor:"text-success-700"},error:{icon:o.Z,bgColor:"bg-error-50 border-error-200",iconColor:"text-error-600",titleColor:"text-error-800",descColor:"text-error-700"},warning:{icon:c.Z,bgColor:"bg-warning-50 border-warning-200",iconColor:"text-warning-600",titleColor:"text-warning-800",descColor:"text-warning-700"},info:{icon:d.Z,bgColor:"bg-blue-50 border-blue-200",iconColor:"text-blue-600",titleColor:"text-blue-800",descColor:"text-blue-700"}},h=({children:e})=>{let[r,t]=(0,a.useState)([]),n=(0,a.useCallback)((e,r,s)=>{let a=Math.random().toString(36).substr(2,9),i={id:a,type:e,title:r,description:s};t(e=>[...e,i]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==a))},5e3)},[]),o=(0,a.useCallback)(e=>{t(r=>r.filter(r=>r.id!==e))},[]);return(0,s.jsxs)(u.Provider,{value:{showToast:n},children:[e,s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.jsx(i.M,{children:r.map(e=>{let r=p[e.type],t=r.icon;return s.jsx(l.E.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5,transition:{duration:.2}},className:`${r.bgColor} border rounded-lg p-4 shadow-lg max-w-sm min-w-[300px] backdrop-blur-sm`,children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx(t,{className:`h-5 w-5 ${r.iconColor} flex-shrink-0 mt-0.5`}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-semibold ${r.titleColor}`,children:e.title}),e.description&&s.jsx("p",{className:`text-sm mt-1 ${r.descColor}`,children:e.description})]}),s.jsx("button",{onClick:()=>o(e.id),className:`${r.iconColor} hover:opacity-70 transition-opacity flex-shrink-0`,children:s.jsx(m.Z,{className:"h-4 w-4"})})]})},e.id)})})})]})}},1626:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(6815),a=t(9377);function i(...e){return(0,a.m6)((0,s.W)(e))}},2594:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2768:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},1526:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},6389:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7320:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},5366:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(7075).Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},9481:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,t(6843).createProxy)(String.raw`C:\Users\Mohd Uwaish\Desktop\MS\DFG\project\proxy-working\app\admin\page.tsx`),{__esModule:a,$$typeof:i}=s,l=s.default},7948:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,metadata:()=>m});var s=t(5036),a=t(265),i=t.n(a);t(7272);var l=t(6843);let n=(0,l.createProxy)(String.raw`C:\Users\Mohd Uwaish\Desktop\MS\DFG\project\proxy-working\contexts\ToastContext.tsx`),{__esModule:o,$$typeof:c}=n;n.default,(0,l.createProxy)(String.raw`C:\Users\Mohd Uwaish\Desktop\MS\DFG\project\proxy-working\contexts\ToastContext.tsx#useToast`);let d=(0,l.createProxy)(String.raw`C:\Users\Mohd Uwaish\Desktop\MS\DFG\project\proxy-working\contexts\ToastContext.tsx#ToastProvider`),m={title:"oTree Proxy Server",description:"Professional link management system for research experiments"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:s.jsx(d,{children:e})})})}},7272:()=>{},2409:(e,r,t)=>{"use strict";t.d(r,{WV:()=>l});var s=t(3729);t(1202);var a=t(5877),i=t(5344),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.Z8)(`Primitive.${r}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e,n=a?t:r;return(0,i.jsx)(n,{...l,ref:s})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[580,148],()=>t(1458));module.exports=s})();