"use strict";(()=>{var e={};e.id=735,e.ids=[735],e.modules={8013:e=>{e.exports=require("mongodb")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},2672:(e,r,t)=>{t.r(r),t.d(r,{config:()=>l,default:()=>c,routeModule:()=>p});var n={};t.r(n),t.d(n,{default:()=>d});var o=t(1802),i=t(7153),s=t(6249);let{getActiveProxyLink:a}=t(5410),{logActivity:u}=t(4090);async function d(e,r){let{id:t}=e.query;if("GET"===e.method)try{let e=await a(t);if(!e)return r.status(404).json({error:"Link not found or inactive",canAccess:!1});return r.json({exists:!0,groupName:e.group_name,maxUses:e.max_uses,currentUses:e.current_uses,isActive:e.is_active})}catch(e){return console.error("âŒ Proxy page error:",e),r.status(500).json({error:"Internal server error"})}return r.status(405).json({error:"Method not allowed"})}let c=(0,s.l)(n,"default"),l=(0,s.l)(n,"config"),p=new o.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/proxy/[id]",pathname:"/api/proxy/[id]",bundlePath:"",filename:""},userland:n})},4090:(e,r,t)=>{let n=t(6113);e.exports={generateProxyId:function(){return n.randomBytes(8).toString("hex")},isValidUrl:function(e){try{let r=new URL(e);return"http:"===r.protocol||"https:"===r.protocol}catch(e){return!1}},sanitizeInput:function(e){return e&&"string"==typeof e?e.trim().replace(/[<>]/g,""):""},logActivity:function(e,r={}){let t=new Date().toISOString();console.log(`[${t}] ${e}:`,r)},generateFingerprint:function(){return n.randomBytes(16).toString("hex")},getClientIP:function(e){return e.headers["x-forwarded-for"]||e.headers["x-real-ip"]||e.connection?.remoteAddress||"unknown"}}}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[869],()=>t(2672));module.exports=n})();