"use strict";(()=>{var e={};e.id=742,e.ids=[742],e.modules={8013:e=>{e.exports=require("mongodb")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},1926:(e,r,t)=>{t.r(r),t.d(r,{config:()=>g,default:()=>l,routeModule:()=>c});var i={};t.r(i),t.d(i,{default:()=>p});var a=t(1802),n=t(7153),o=t(6249);let{getGroupStatus:s,getWaitingParticipants:u}=t(5410),{connectToDatabase:d}=t(5410);async function p(e,r){if("GET"!==e.method)return r.status(405).json({error:"Method not allowed"});let{id:t}=e.query;try{let e=await d(),i=await e.collection("link_usage").find({proxy_id:t}).toArray(),a=await u(t),n=await s(t);return r.json({proxyId:t,allParticipants:i.map(e=>({participant_number:e.participant_number,status:e.status,joined_at:e.joined_at,redirected_at:e.redirected_at,group_session_id:e.group_session_id,fingerprint:e.user_fingerprint.substring(0,8)+"..."})),waitingCount:a.length,groupStatus:n,timestamp:new Date().toISOString()})}catch(e){return console.error("âŒ Debug error:",e),r.status(500).json({error:e.message})}}let l=(0,o.l)(i,"default"),g=(0,o.l)(i,"config"),c=new a.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/proxy/[id]/debug",pathname:"/api/proxy/[id]/debug",bundlePath:"",filename:""},userland:i})}};var r=require("../../../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[869],()=>t(1926));module.exports=i})();