"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/admin/check-auth";
exports.ids = ["pages/api/admin/check-auth"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fcheck-auth&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Ccheck-auth.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fcheck-auth&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Ccheck-auth.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_admin_check_auth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\admin\\check-auth.js */ \"(api)/./pages/api/admin/check-auth.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_check_auth_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_check_auth_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/admin/check-auth\",\n        pathname: \"/api/admin/check-auth\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_admin_check_auth_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGY2hlY2stYXV0aCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYWRtaW4lNUNjaGVjay1hdXRoLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQytEO0FBQy9EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywyREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMkRBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3RyZWUtcHJveHktc2VydmVyLz9iYjFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcYWRtaW5cXFxcY2hlY2stYXV0aC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL2NoZWNrLWF1dGhcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9jaGVjay1hdXRoXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fcheck-auth&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Ccheck-auth.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// Pure Next.js authentication module\n\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\");\nconst JWT_SECRET = process.env.SESSION_SECRET || \"your-secret-key-change-this\";\nconst JWT_EXPIRY = 24 * 60 * 60 * 1000; // 24 hours\n// Simple JWT implementation\nfunction createToken(payload) {\n    const header = {\n        alg: \"HS256\",\n        typ: \"JWT\"\n    };\n    const now = Date.now();\n    const tokenPayload = {\n        ...payload,\n        iat: now,\n        exp: now + JWT_EXPIRY\n    };\n    const encodedHeader = Buffer.from(JSON.stringify(header)).toString(\"base64url\");\n    const encodedPayload = Buffer.from(JSON.stringify(tokenPayload)).toString(\"base64url\");\n    const signature = crypto.createHmac(\"sha256\", JWT_SECRET).update(`${encodedHeader}.${encodedPayload}`).digest(\"base64url\");\n    return `${encodedHeader}.${encodedPayload}.${signature}`;\n}\nfunction verifyToken(token) {\n    try {\n        if (!token) return null;\n        const [encodedHeader, encodedPayload, signature] = token.split(\".\");\n        // Verify signature\n        const expectedSignature = crypto.createHmac(\"sha256\", JWT_SECRET).update(`${encodedHeader}.${encodedPayload}`).digest(\"base64url\");\n        if (signature !== expectedSignature) {\n            console.log(\"❌ JWT signature verification failed\");\n            return null;\n        }\n        // Decode payload\n        const payload = JSON.parse(Buffer.from(encodedPayload, \"base64url\").toString());\n        // Check expiry\n        if (payload.exp < Date.now()) {\n            console.log(\"❌ JWT token expired\");\n            return null;\n        }\n        console.log(\"✅ JWT token verified:\", payload);\n        return payload;\n    } catch (error) {\n        console.error(\"❌ JWT verification error:\", error);\n        return null;\n    }\n}\nfunction setAuthCookie(res, payload) {\n    console.log(\"\\uD83D\\uDD0D Setting auth cookie for user:\", payload.username);\n    const token = createToken(payload);\n    res.setHeader(\"Set-Cookie\", [\n        `auth-token=${token}; HttpOnly; Path=/; Max-Age=${JWT_EXPIRY / 1000}; SameSite=Lax`\n    ]);\n    console.log(\"✅ Auth cookie set for user:\", payload.username);\n}\nfunction clearAuthCookie(res) {\n    res.setHeader(\"Set-Cookie\", [\n        \"auth-token=; HttpOnly; Path=/; Max-Age=0; SameSite=Lax\"\n    ]);\n    console.log(\"✅ Auth cookie cleared\");\n}\nfunction getTokenFromRequest(req) {\n    // Try to get token from cookies\n    const cookies = req.headers.cookie;\n    if (cookies) {\n        const tokenMatch = cookies.match(/auth-token=([^;]+)/);\n        if (tokenMatch) {\n            return tokenMatch[1];\n        }\n    }\n    return null;\n}\nfunction requireAuth(req) {\n    const token = getTokenFromRequest(req);\n    const user = verifyToken(token);\n    if (!user) {\n        console.log(\"❌ Authentication required\");\n        return null;\n    }\n    console.log(\"✅ User authenticated:\", user.username);\n    return user;\n}\nmodule.exports = {\n    createToken,\n    verifyToken,\n    setAuthCookie,\n    clearAuthCookie,\n    getTokenFromRequest,\n    requireAuth\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RCO0lBQ0Y7SUFDQSxPQUFPO0FBQ1Q7QUFFQSxTQUFTRSxZQUFZTixHQUFHO0lBQ3RCLE1BQU1iLFFBQVFZLG9CQUFvQkM7SUFDbEMsTUFBTU8sT0FBT3JCLFlBQVlDO0lBRXpCLElBQUksQ0FBQ29CLE1BQU07UUFDVGpCLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVDtJQUVBRCxRQUFRQyxHQUFHLENBQUMseUJBQXlCZ0IsS0FBS1gsUUFBUTtJQUNsRCxPQUFPVztBQUNUO0FBRUFDLE9BQU9DLE9BQU8sR0FBRztJQUNmNUM7SUFDQXFCO0lBQ0FRO0lBQ0FJO0lBQ0FDO0lBQ0FPO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vdHJlZS1wcm94eS1zZXJ2ZXIvLi9saWIvYXV0aC5qcz8yODdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFB1cmUgTmV4dC5qcyBhdXRoZW50aWNhdGlvbiBtb2R1bGVcclxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuU0VTU0lPTl9TRUNSRVQgfHwgJ3lvdXItc2VjcmV0LWtleS1jaGFuZ2UtdGhpcyc7XHJcbmNvbnN0IEpXVF9FWFBJUlkgPSAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyAyNCBob3Vyc1xyXG5cclxuLy8gU2ltcGxlIEpXVCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBjcmVhdGVUb2tlbihwYXlsb2FkKSB7XHJcbiAgY29uc3QgaGVhZGVyID0ge1xyXG4gICAgYWxnOiAnSFMyNTYnLFxyXG4gICAgdHlwOiAnSldUJ1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCB0b2tlblBheWxvYWQgPSB7XHJcbiAgICAuLi5wYXlsb2FkLFxyXG4gICAgaWF0OiBub3csXHJcbiAgICBleHA6IG5vdyArIEpXVF9FWFBJUllcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGVuY29kZWRIZWFkZXIgPSBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShoZWFkZXIpKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XHJcbiAgY29uc3QgZW5jb2RlZFBheWxvYWQgPSBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh0b2tlblBheWxvYWQpKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XHJcbiAgXHJcbiAgY29uc3Qgc2lnbmF0dXJlID0gY3J5cHRvXHJcbiAgICAuY3JlYXRlSG1hYygnc2hhMjU2JywgSldUX1NFQ1JFVClcclxuICAgIC51cGRhdGUoYCR7ZW5jb2RlZEhlYWRlcn0uJHtlbmNvZGVkUGF5bG9hZH1gKVxyXG4gICAgLmRpZ2VzdCgnYmFzZTY0dXJsJyk7XHJcbiAgXHJcbiAgcmV0dXJuIGAke2VuY29kZWRIZWFkZXJ9LiR7ZW5jb2RlZFBheWxvYWR9LiR7c2lnbmF0dXJlfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICBjb25zdCBbZW5jb2RlZEhlYWRlciwgZW5jb2RlZFBheWxvYWQsIHNpZ25hdHVyZV0gPSB0b2tlbi5zcGxpdCgnLicpO1xyXG4gICAgXHJcbiAgICAvLyBWZXJpZnkgc2lnbmF0dXJlXHJcbiAgICBjb25zdCBleHBlY3RlZFNpZ25hdHVyZSA9IGNyeXB0b1xyXG4gICAgICAuY3JlYXRlSG1hYygnc2hhMjU2JywgSldUX1NFQ1JFVClcclxuICAgICAgLnVwZGF0ZShgJHtlbmNvZGVkSGVhZGVyfS4ke2VuY29kZWRQYXlsb2FkfWApXHJcbiAgICAgIC5kaWdlc3QoJ2Jhc2U2NHVybCcpO1xyXG4gICAgXHJcbiAgICBpZiAoc2lnbmF0dXJlICE9PSBleHBlY3RlZFNpZ25hdHVyZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygn4p2MIEpXVCBzaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZCcpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRGVjb2RlIHBheWxvYWRcclxuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKGVuY29kZWRQYXlsb2FkLCAnYmFzZTY0dXJsJykudG9TdHJpbmcoKSk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGV4cGlyeVxyXG4gICAgaWYgKHBheWxvYWQuZXhwIDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICBjb25zb2xlLmxvZygn4p2MIEpXVCB0b2tlbiBleHBpcmVkJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEpXVCB0b2tlbiB2ZXJpZmllZDonLCBwYXlsb2FkKTtcclxuICAgIHJldHVybiBwYXlsb2FkO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgSldUIHZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEF1dGhDb29raWUocmVzLCBwYXlsb2FkKSB7XHJcbiAgY29uc29sZS5sb2coJ/CflI0gU2V0dGluZyBhdXRoIGNvb2tpZSBmb3IgdXNlcjonLCBwYXlsb2FkLnVzZXJuYW1lKTtcclxuICBjb25zdCB0b2tlbiA9IGNyZWF0ZVRva2VuKHBheWxvYWQpO1xyXG4gIFxyXG4gIHJlcy5zZXRIZWFkZXIoJ1NldC1Db29raWUnLCBbXHJcbiAgICBgYXV0aC10b2tlbj0ke3Rva2VufTsgSHR0cE9ubHk7IFBhdGg9LzsgTWF4LUFnZT0ke0pXVF9FWFBJUlkgLyAxMDAwfTsgU2FtZVNpdGU9TGF4YFxyXG4gIF0pO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCfinIUgQXV0aCBjb29raWUgc2V0IGZvciB1c2VyOicsIHBheWxvYWQudXNlcm5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckF1dGhDb29raWUocmVzKSB7XHJcbiAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsIFtcclxuICAgICdhdXRoLXRva2VuPTsgSHR0cE9ubHk7IFBhdGg9LzsgTWF4LUFnZT0wOyBTYW1lU2l0ZT1MYXgnXHJcbiAgXSk7XHJcbiAgY29uc29sZS5sb2coJ+KchSBBdXRoIGNvb2tpZSBjbGVhcmVkJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRva2VuRnJvbVJlcXVlc3QocmVxKSB7XHJcbiAgLy8gVHJ5IHRvIGdldCB0b2tlbiBmcm9tIGNvb2tpZXNcclxuICBjb25zdCBjb29raWVzID0gcmVxLmhlYWRlcnMuY29va2llO1xyXG4gIGlmIChjb29raWVzKSB7XHJcbiAgICBjb25zdCB0b2tlbk1hdGNoID0gY29va2llcy5tYXRjaCgvYXV0aC10b2tlbj0oW147XSspLyk7XHJcbiAgICBpZiAodG9rZW5NYXRjaCkge1xyXG4gICAgICByZXR1cm4gdG9rZW5NYXRjaFsxXTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlcXVpcmVBdXRoKHJlcSkge1xyXG4gIGNvbnN0IHRva2VuID0gZ2V0VG9rZW5Gcm9tUmVxdWVzdChyZXEpO1xyXG4gIGNvbnN0IHVzZXIgPSB2ZXJpZnlUb2tlbih0b2tlbik7XHJcbiAgXHJcbiAgaWYgKCF1c2VyKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgY29uc29sZS5sb2coJ+KchSBVc2VyIGF1dGhlbnRpY2F0ZWQ6JywgdXNlci51c2VybmFtZSk7XHJcbiAgcmV0dXJuIHVzZXI7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyZWF0ZVRva2VuLFxyXG4gIHZlcmlmeVRva2VuLFxyXG4gIHNldEF1dGhDb29raWUsXHJcbiAgY2xlYXJBdXRoQ29va2llLFxyXG4gIGdldFRva2VuRnJvbVJlcXVlc3QsXHJcbiAgcmVxdWlyZUF1dGhcclxufTsiXSwibmFtZXMiOlsiY3J5cHRvIiwicmVxdWlyZSIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiU0VTU0lPTl9TRUNSRVQiLCJKV1RfRVhQSVJZIiwiY3JlYXRlVG9rZW4iLCJwYXlsb2FkIiwiaGVhZGVyIiwiYWxnIiwidHlwIiwibm93IiwiRGF0ZSIsInRva2VuUGF5bG9hZCIsImlhdCIsImV4cCIsImVuY29kZWRIZWFkZXIiLCJCdWZmZXIiLCJmcm9tIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwiZW5jb2RlZFBheWxvYWQiLCJzaWduYXR1cmUiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0IiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInNwbGl0IiwiZXhwZWN0ZWRTaWduYXR1cmUiLCJjb25zb2xlIiwibG9nIiwicGFyc2UiLCJlcnJvciIsInNldEF1dGhDb29raWUiLCJyZXMiLCJ1c2VybmFtZSIsInNldEhlYWRlciIsImNsZWFyQXV0aENvb2tpZSIsImdldFRva2VuRnJvbVJlcXVlc3QiLCJyZXEiLCJjb29raWVzIiwiaGVhZGVycyIsImNvb2tpZSIsInRva2VuTWF0Y2giLCJtYXRjaCIsInJlcXVpcmVBdXRoIiwidXNlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/auth.js\n");

/***/ }),

/***/ "(api)/./pages/api/admin/check-auth.js":
/*!***************************************!*\
  !*** ./pages/api/admin/check-auth.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// Check authentication status API route for Next.js\nconst { getTokenFromRequest, verifyToken } = __webpack_require__(/*! ../../../lib/auth */ \"(api)/./lib/auth.js\");\nfunction handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    console.log(\"\\uD83D\\uDD0D Check auth called\");\n    const token = getTokenFromRequest(req);\n    console.log(\"\\uD83D\\uDD0D Auth token exists:\", !!token);\n    const user = verifyToken(token);\n    const isLoggedIn = !!user;\n    console.log(\"\\uD83D\\uDD0D User verified:\", !!user);\n    console.log(\"\\uD83D\\uDD0D Is logged in:\", isLoggedIn);\n    res.json({\n        isLoggedIn,\n        user: user ? {\n            username: user.username\n        } : null\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYWRtaW4vY2hlY2stYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsb0RBQW9EO0FBQ3BELE1BQU0sRUFBRUEsbUJBQW1CLEVBQUVDLFdBQVcsRUFBRSxHQUFHQyxtQkFBT0EsQ0FBQztBQUV0QyxTQUFTQyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDdEMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE1BQU1DLFFBQVFaLG9CQUFvQkk7SUFDbENNLFFBQVFDLEdBQUcsQ0FBQyxtQ0FBeUIsQ0FBQyxDQUFDQztJQUV2QyxNQUFNQyxPQUFPWixZQUFZVztJQUN6QixNQUFNRSxhQUFhLENBQUMsQ0FBQ0Q7SUFFckJILFFBQVFDLEdBQUcsQ0FBQywrQkFBcUIsQ0FBQyxDQUFDRTtJQUNuQ0gsUUFBUUMsR0FBRyxDQUFDLDhCQUFvQkc7SUFFaENULElBQUlHLElBQUksQ0FBQztRQUFFTTtRQUFZRCxNQUFNQSxPQUFPO1lBQUVFLFVBQVVGLEtBQUtFLFFBQVE7UUFBQyxJQUFJO0lBQUs7QUFDekUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vdHJlZS1wcm94eS1zZXJ2ZXIvLi9wYWdlcy9hcGkvYWRtaW4vY2hlY2stYXV0aC5qcz8xMzRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBBUEkgcm91dGUgZm9yIE5leHQuanNcclxuY29uc3QgeyBnZXRUb2tlbkZyb21SZXF1ZXN0LCB2ZXJpZnlUb2tlbiB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL2F1dGgnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCfwn5SNIENoZWNrIGF1dGggY2FsbGVkJyk7XHJcbiAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbkZyb21SZXF1ZXN0KHJlcSk7XHJcbiAgY29uc29sZS5sb2coJ/CflI0gQXV0aCB0b2tlbiBleGlzdHM6JywgISF0b2tlbik7XHJcbiAgXHJcbiAgY29uc3QgdXNlciA9IHZlcmlmeVRva2VuKHRva2VuKTtcclxuICBjb25zdCBpc0xvZ2dlZEluID0gISF1c2VyO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCfwn5SNIFVzZXIgdmVyaWZpZWQ6JywgISF1c2VyKTtcclxuICBjb25zb2xlLmxvZygn8J+UjSBJcyBsb2dnZWQgaW46JywgaXNMb2dnZWRJbik7XHJcbiAgXHJcbiAgcmVzLmpzb24oeyBpc0xvZ2dlZEluLCB1c2VyOiB1c2VyID8geyB1c2VybmFtZTogdXNlci51c2VybmFtZSB9IDogbnVsbCB9KTtcclxufSJdLCJuYW1lcyI6WyJnZXRUb2tlbkZyb21SZXF1ZXN0IiwidmVyaWZ5VG9rZW4iLCJyZXF1aXJlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ0b2tlbiIsInVzZXIiLCJpc0xvZ2dlZEluIiwidXNlcm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/admin/check-auth.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fcheck-auth&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Ccheck-auth.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();