"use strict";(()=>{var e={};e.id=816,e.ids=[816],e.modules={8013:e=>{e.exports=require("mongodb")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},9926:(e,t,r)=>{r.r(t),r.d(t,{config:()=>u,default:()=>l,routeModule:()=>c});var s={};r.r(s),r.d(s,{default:()=>o});var a=r(1802),i=r(7153),d=r(6249);let{connectToDatabase:n}=r(5410);async function o(e,t){try{let r=await n();if("GET"===e.method){let e=await r.collection("redirect_settings").findOne({type:"gender_redirect"});t.status(200).json({maleRedirectUrl:e?.maleRedirectUrl||"",femaleRedirectUrl:e?.femaleRedirectUrl||""})}else if("POST"===e.method){let{maleRedirectUrl:s,femaleRedirectUrl:a}=e.body;if(!s||!a)return t.status(400).json({error:"Both male and female redirect URLs are required"});try{new URL(s),new URL(a)}catch(e){return t.status(400).json({error:"Invalid URL format"})}await r.collection("redirect_settings").updateOne({type:"gender_redirect"},{$set:{type:"gender_redirect",maleRedirectUrl:s,femaleRedirectUrl:a,updated_at:new Date,updated_by:"admin"}},{upsert:!0}),t.status(200).json({message:"Redirect settings updated successfully"})}else t.setHeader("Allow",["GET","POST"]),t.status(405).json({error:"Method not allowed"})}catch(e){console.error("Redirect settings API error:",e),t.status(500).json({error:"Internal server error"})}}let l=(0,d.l)(s,"default"),u=(0,d.l)(s,"config"),c=new a.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/admin/redirect-settings",pathname:"/api/admin/redirect-settings",bundlePath:"",filename:""},userland:s})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[869],()=>r(9926));module.exports=s})();