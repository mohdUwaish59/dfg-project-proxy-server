"use strict";(()=>{var e={};e.id=311,e.ids=[311],e.modules={8013:e=>{e.exports=require("mongodb")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},7862:(e,r,t)=>{t.r(r),t.d(r,{config:()=>c,default:()=>d,routeModule:()=>m});var a={};t.r(a),t.d(a,{default:()=>s});var i=t(1802),l=t(7153),o=t(6249);let{connectToDatabase:n}=t(5410);async function s(e,r){try{let t=await n();if("GET"===e.method){let e=await t.collection("redirect_logs").find({}).sort({timestamp:-1}).limit(100).toArray(),a={total:e.length,male:e.filter(e=>"male"===e.gender).length,female:e.filter(e=>"female"===e.gender).length,recent:e.slice(0,10).map(e=>({gender:e.gender,timestamp:e.timestamp,redirected_to:e.redirected_to}))};r.status(200).json(a)}else r.setHeader("Allow",["GET"]),r.status(405).json({error:"Method not allowed"})}catch(e){console.error("Redirect analytics API error:",e),r.status(500).json({error:"Internal server error"})}}let d=(0,o.l)(a,"default"),c=(0,o.l)(a,"config"),m=new i.PagesAPIRouteModule({definition:{kind:l.x.PAGES_API,page:"/api/admin/redirect-analytics",pathname:"/api/admin/redirect-analytics",bundlePath:"",filename:""},userland:a})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[869],()=>t(7862));module.exports=a})();