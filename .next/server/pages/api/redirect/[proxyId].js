"use strict";(()=>{var e={};e.id=341,e.ids=[341],e.modules={8013:e=>{e.exports=require("mongodb")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},4347:(e,r,t)=>{t.r(r),t.d(r,{config:()=>p,default:()=>d,routeModule:()=>l});var o={};t.r(o),t.d(o,{default:()=>u});var i=t(1802),n=t(7153),s=t(6249);let{getProxyLink:a}=t(5410);async function u(e,r){let{proxyId:t}=e.query;if(!t)return r.status(400).json({error:"Proxy ID is required"});try{let e=await a(t);if(!e)return r.status(404).json({error:"Experiment link not found"});if(!e.post_experiment_redirect_url)return r.status(404).json({error:"Post-experiment redirect URL not configured for this experiment"});r.status(200).json({redirectUrl:e.post_experiment_redirect_url,groupName:e.group_name,category:e.category,treatmentTitle:e.treatment_title})}catch(e){console.error("Redirect API error:",e),r.status(500).json({error:"Internal server error"})}}let d=(0,s.l)(o,"default"),p=(0,s.l)(o,"config"),l=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/redirect/[proxyId]",pathname:"/api/redirect/[proxyId]",bundlePath:"",filename:""},userland:o})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[869],()=>t(4347));module.exports=o})();